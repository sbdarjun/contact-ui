<div class="card">
    <p-toast />
    <p-table [value]="institutions" dataKey="institution_id" [tableStyle]="{ 'min-width': '60rem' }"
        [expandedRowKeys]="expandedRows" (onRowExpand)="onRowExpand($event)" (onRowCollapse)="onRowCollapse($event)">
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 5rem"></th>
                <th pSortableColumn="institutionName">Institution Name <p-sortIcon field="institutionName" /></th>
                <th>Institution Address</th>
                <th>Institution Email</th>
                <th>Website</th>
                <th>Institution Phone</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-institutions let-expanded="expanded">
            <tr>
                <td>
                    <p-button type="button" pRipple [pRowToggler]="institutions" [text]="true" [rounded]="true"
                        [plain]="true" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'" />
                </td>
                <td>{{ institutions.institutionName }}</td>
                <td>{{ institutions.institutionAddress }}</td>
                <td>{{ institutions.institutionEmail }}</td>
                <td>{{ institutions.website }}</td>
                <td>{{ institutions.institutionPhone }}</td>
            </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-institutions>
            <tr>
                <td colspan="7">
                    <div class="p-3">
                        <p-table [value]="institutions.employees" dataKey="id">
                            <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="employeeName">Employee Name <p-sortIcon field="employeeName" /></th>
                <th>Employee Email</th>
                <th>Employee Position</th>
                <th>Employee Phone</th>
                <th>Employee Address</th>
                <th>Job Position</th>
                <th style="width: 4rem"></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-employees>
            <tr>
                <td>{{ employees.employeeName }}</td>
                <td>{{ employees.employeeEmail }}</td>
                <td>{{ employees.employeePosition }}</td>
                <td>{{ employees.employeePhone }}</td>
                <td>{{ employees.employeeAddress }}</td>
                <td>{{ employees.jobPosition }}</td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="6">There are no employee data.</td>
            </tr>
        </ng-template>
    </p-table>
</div>
</td>
</tr>
</ng-template>
</p-table>
</div>